"use strict";(self.webpackChunkbardeen_browser_extension=self.webpackChunkbardeen_browser_extension||[]).push([[851],{50851:(e,n,l)=>{l.r(n),l.d(n,{default:()=>u});var a=l(2784),t=l(6277),i=(l(91896),l(85795)),o=l(79692);const r=[{label:"String",value:"string",icon:{icon:"TextOutline"}},{label:"URL",value:"url",icon:{icon:"WebsiteOutline"}},{label:"Email",value:"email",icon:{icon:"AtSignOutline"}},{label:"Phone Number",value:"phone",icon:{icon:"MobileOutline"}},{label:"Number",value:"number",icon:{icon:"OneBold"}},{label:"Boolean",value:"boolean",icon:{icon:"CheckmarkOutline"}},{label:"Date",value:"date",icon:{icon:"CalendarOutline"}},{label:"Table",value:"object",icon:{icon:"TableOutline"}}],s=e=>{const{className:n,left:l,right:i,withArrow:o,arrowClassName:r}=e,s=c();return a.createElement("tr",{className:(0,t.Z)(s.formColumns,n)},a.createElement("td",{className:s.formColumnLeft},l),a.createElement("td",{className:s.formColumnArrow},o?a.createElement("div",{className:r},"â†’"):null),a.createElement("td",{className:s.formColumnRight},i))},u=e=>{var n,l;const{api:o,value:u,initialValue:m,runtime:d,onChange:p}=e,[g,f]=a.useState(""),[h,b]=a.useState("string"),[v,C]=a.useState(!1),E=c(),I=u||m,N=a.useRef(I),x=!1!==(null==u?void 0:u.displayInfo.editable),w=a.useCallback(((e,n)=>{N.current&&p({...N.current,changeOrigin:e})}),[p]),y=a.useCallback((e=>{N.current&&p({...N.current,fields:N.current.fields.filter((n=>n.id!==e))})}),[p]),k=a.useCallback((()=>{if(C(!1),f(""),C(!1),N.current){if(!g)return;o.createNewField(g,h).then((e=>{p({...N.current,fields:N.current.fields.concat(e)})}))}}),[o,g,h,p]),B=a.useCallback((()=>{C(!0)}),[]),F=a.useCallback((e=>{"Enter"===e.key&&(k(),e.preventDefault(),e.stopPropagation())}),[k]),L=a.useCallback((e=>{N.current&&p({...N.current,customized:e})}),[p]),S=a.useMemo((()=>I?a.createElement("div",{className:(0,t.Z)(E.collapsibleInput,{[E.collapsibleInputCollapsed]:null==I?void 0:I.customized})},a.createElement(i.StandaloneCompilerInput,{api:d,compilerSessionId:I.primaryCompilerSessionId,onCompleteChange:w.bind({},"_primary")})):null),[E,w,d,I]),T=a.useMemo((()=>{var e;const n=x?a.createElement(s,{className:E.inputFormFooter,left:v?a.createElement(i.BardeenSelect,{options:r,value:h,onChange:b,type:"input",fullWidth:!0}):null,right:v?a.createElement("div",{className:E.editableInput},a.createElement(i.BardeenInput,{size:"l",autoFocus:!0,placeholder:"New field name",value:g,onChange:f,showCloseAdornment:!1,onKeyDown:F,fullWidth:!0,addonAfter:a.createElement(i.BardeenButton,{icon:{icon:"PlusOutline"},type:"neumorphFlat",size:"s",rounded:!0,onClick:k})})):a.createElement("div",null,a.createElement(i.BardeenButton,{size:"m",type:"flat",onClick:B},"Add new field"))}):null;return a.createElement("table",{className:E.inputFormWrapper},a.createElement("tbody",null,a.createElement(s,{className:E.headline,left:a.createElement("div",{className:E.headlineLeft},a.createElement(i.Title,{variant:"h4"},"Column Values"),a.createElement(i.Text,null,"Specify the value for each column.")),right:a.createElement("div",{className:E.headlineRight},a.createElement(i.Title,{variant:"h4"},(null===(e=null==I?void 0:I.displayInfo)||void 0===e?void 0:e.sourceName)||"Destination"," Column"),a.createElement(i.Text,null,"Where the value needs to be assigned."))}),null==I?void 0:I.fields.map((e=>{var n,l;return a.createElement(s,{key:e.name,withArrow:!0,arrowClassName:E.arrowClassName,className:E.inputFormLine,left:a.createElement(i.StandaloneCompilerInput,{api:d,compilerSessionId:e.compilerSessionId,onCompleteChange:w.bind({},e.name),icon:e.icon}),right:a.createElement("div",{className:E.inputLabel},(null===(n=null==I?void 0:I.displayInfo)||void 0===n?void 0:n.sourceIcon)?a.createElement("div",{className:E.inputLabelIcon},a.createElement(i.BardeenIcon,{size:16,icon:null===(l=null==I?void 0:I.displayInfo)||void 0===l?void 0:l.sourceIcon})):null,a.createElement(i.Text,{className:E.inputLabelText},e.name),x?a.createElement(i.BardeenButton,{icon:{icon:"CrossBold"},type:"neumorphFlat",size:"s",rounded:!0,onClick:y.bind({},e.id)}):null)})})),n))}),[x,E,v,h,g,F,k,B,null===(n=null==I?void 0:I.displayInfo)||void 0===n?void 0:n.sourceName,null===(l=null==I?void 0:I.displayInfo)||void 0===l?void 0:l.sourceIcon,null==I?void 0:I.fields,d,w,y]);return N.current=I,a.createElement("div",{className:E.inputFormContainer},S,a.createElement(i.BardeenCollapse,{arrow:!0,expanded:null==I?void 0:I.customized,onChange:L,summary:"Custom field mapping"},T))},c=(0,o.Z)((e=>({editableInput:{"& .MuiInputBase-root":{height:"auto"}},inputFormContainer:{flex:1},inputFormWrapper:{flex:1},inputFormLine:{alignItems:"center",marginBottom:e.spacing(2)},arrowClassName:{minHeight:"50px",display:"flex",alignItems:"center"},inputFormFooter:{marginTop:e.spacing(2)},inputLabel:{display:"flex",padding:`${e.spacing(3)-1}px ${e.spacing(4)}px `,border:`solid 1px ${i.ColorMap.base[15]}`,borderRadius:e.spacing()+2,height:"50px",alignItems:"center"},inputLabelIcon:{marginRight:e.spacing(2)},inputLabelText:{flex:1},collapsibleInput:{overflow:"hidden",transition:"all 0.25s ease-out",maxHeight:100,marginTop:0},collapsibleInputCollapsed:{maxHeight:0,marginTop:-e.spacing(4)},headline:{flex:1,marginBottom:e.spacing(2)},headlineLeft:{textAlign:"left"},headlineRight:{textAlign:"right"},formColumns:{"& td":{padding:e.spacing(1),verticalAlign:"top"}},formColumnLeft:{},formColumnRight:{width:"35%"},formColumnArrow:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}})))}}]);